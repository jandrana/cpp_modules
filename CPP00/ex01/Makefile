# **************************************************************************** #
#                                                                              #
#                                                         :::      ::::::::    #
#    Makefile                                           :+:      :+:    :+:    #
#                                                     +:+ +:+         +:+      #
#    By: user <user@student.42.fr>                  +#+  +:+       +#+         #
#                                                 +#+#+#+#+#+   +#+            #
#    Created: 2024/11/12 20:00:01 by ana-cast          #+#    #+#              #
#    Updated: 2025/06/23 12:22:41 by user             ###   ########.fr        #
#                                                                              #
# **************************************************************************** #

NAME	= phonebook

CPP		= c++
FLAGS	= -Wall -Wextra -Werror -std=c++98
RM		= rm -rf

################################################################################
##                              SOURCES AND OBJECTS                           ##
################################################################################

SRC		= main.cpp Contact.cpp PhoneBook.cpp
SRCDIR	= ./src/
OBJDIR	= ./obj/
OBJS	= $(SRC:%.cpp=$(OBJDIR)%.o)

INCDIR	= ./include/
CFLAGS	= -I$(INCDIR)

################################################################################
##                                    COLORS                                 ##
################################################################################

END			=\033[0m
BOLD		=\033[1m
GREEN		=\033[0;32m
RED			=\033[0;31m
BLUE		=\033[0;34m
YELLOW		=\033[33m
MAGENTA		=\033[35m
TURQUOISE	=\033[36m

################################################################################
##                                     RULES                                  ##
################################################################################

all : head $(NAME)

head :
	@echo -e "$(MAGENTA)"
	@echo -e "\t â–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆ â–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆ  â–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆ         â–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆ   â–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆ  "
	@echo -e "\tâ–ˆâ–ˆ      â–ˆâ–ˆ   â–ˆâ–ˆ â–ˆâ–ˆ   â–ˆâ–ˆ       â–ˆâ–ˆ  â–ˆâ–ˆâ–ˆâ–ˆ â–ˆâ–ˆ  â–ˆâ–ˆâ–ˆâ–ˆ "
	@echo -e "\tâ–ˆâ–ˆ      â–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆ  â–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆ  â–ˆâ–ˆâ–ˆâ–ˆâ–ˆ â–ˆâ–ˆ â–ˆâ–ˆ â–ˆâ–ˆ â–ˆâ–ˆ â–ˆâ–ˆ â–ˆâ–ˆ "
	@echo -e "\tâ–ˆâ–ˆ      â–ˆâ–ˆ      â–ˆâ–ˆ            â–ˆâ–ˆâ–ˆâ–ˆ  â–ˆâ–ˆ â–ˆâ–ˆâ–ˆâ–ˆ  â–ˆâ–ˆ "
	@echo -e "\t â–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆ â–ˆâ–ˆ      â–ˆâ–ˆ             â–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆ   â–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆ  "
	@echo -e "\t$(BOLD)Exercise 01$(END)$(MAGENTA)"
	@echo -e "\t        42MLG: by ana-cast"
	@echo -e "\tProyect: \033[36m $(NAME) $(MAGENTA)"
	@echo -e "\tCommands:\033[36m all clean fclean re$(BLUE)"
	@echo -e "\tðŸ›    Compiler: $(CPP)"
	@echo -e "\tðŸ›    Flags: $(FLAGS) $(END)\n"

$(NAME) : $(OBJS)
	@$(CPP) $(FLAGS) -o $(NAME) $(OBJS)
	@echo -e "\n    $(GREEN)$(BOLD)COMPILED $(NAME)$(END) $(GREEN)\n"

$(OBJDIR)%.o: $(SRCDIR)%.cpp
	@mkdir -p $(OBJDIR)
	@$(CPP) $(FLAGS) $(CFLAGS) -c $< -o $@
	@echo -e "$(GREEN)  âœ“ Compiled: $(notdir $<)"

clean :
	@echo -e "\n$(YELLOW) ðŸ—‘   Removing objects$(END)"
	@$(RM) $(OBJDIR)
	@echo -e "$(GREEN)\r  âœ“  $(RED)Removed  objects from $(NAME) $(END)\n"

fclean: clean
	@echo -e "$(YELLOW) ðŸ—‘   Removing $(NAME) $(END)"
	@$(RM) $(NAME)
	@echo -e "$(GREEN)\r  âœ“  $(RED)Removed  $(NAME) $(END)\n"

re :
	@$(MAKE) -s fclean
	@clear
	@$(MAKE) -s all

.PHONY: all clean fclean re